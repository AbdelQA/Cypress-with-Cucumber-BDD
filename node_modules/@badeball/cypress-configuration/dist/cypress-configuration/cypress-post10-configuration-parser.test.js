"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const strict_1 = __importDefault(require("assert/strict"));
const cypress_post10_configuration_parser_1 = require("./cypress-post10-configuration-parser");
let examples = 1;
function example(source, expected) {
    it(`example #${examples++}`, () => {
        strict_1.default.deepStrictEqual((0, cypress_post10_configuration_parser_1.parsePost10Configuration)(source), expected);
    });
}
describe("parsePost10Configuration()", () => {
    for (const testingType of ["e2e", "component"]) {
        describe(testingType, () => {
            for (const property of ["specPattern", "excludeSpecPattern"]) {
                example(`module.exports = { ${testingType}: { ${property}: 'foo/bar' } };`, {
                    [testingType]: { [property]: "foo/bar" },
                });
                example(`module.exports = { ${testingType}: { ${property}: ['foo/bar'] } };`, {
                    [testingType]: { [property]: ["foo/bar"] },
                });
                example(`module.exports = defineConfig({ ${testingType}: { ${property}: 'foo/bar' } });`, {
                    [testingType]: { [property]: "foo/bar" },
                });
                example(`module.exports = defineConfig({ ${testingType}: { ${property}: ['foo/bar'] } });`, {
                    [testingType]: { [property]: ["foo/bar"] },
                });
                example(`export default { ${testingType}: { ${property}: 'foo/bar' } };`, {
                    [testingType]: { [property]: "foo/bar" },
                });
                example(`export default { ${testingType}: { ${property}: ['foo/bar'] } };`, {
                    [testingType]: { [property]: ["foo/bar"] },
                });
                example(`export default defineConfig({ ${testingType}: { ${property}: 'foo/bar' } });`, {
                    [testingType]: { [property]: "foo/bar" },
                });
                example(`export default defineConfig({ ${testingType}: { ${property}: ['foo/bar'] } });`, {
                    [testingType]: { [property]: ["foo/bar"] },
                });
            }
            example(`module.exports = { ${testingType}: { env: { foo: 'bar' } } };`, {
                [testingType]: { env: { foo: "bar" } },
            });
            example(`module.exports = defineConfig({ ${testingType}: { env: { foo: 'bar' } } });`, {
                [testingType]: { env: { foo: "bar" } },
            });
            example(`export default { ${testingType}: { env: { foo: 'bar' } } };`, {
                [testingType]: { env: { foo: "bar" } },
            });
            example(`export default defineConfig({ ${testingType}: { env: { foo: 'bar' } } });`, {
                [testingType]: { env: { foo: "bar" } },
            });
        });
    }
});
